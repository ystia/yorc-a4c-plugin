tosca_definitions_version: alien_dsl_2_0_0

metadata:
  template_name: SingularityBashLoopTemplate
  template_version: 0.1.0-SNAPSHOT
  template_author: admin

description: ""

imports:
  - tosca-normative-types:1.0.0-ALIEN20
  - alien-base-types:2.1.1
  - yorc-slurm-types:1.2.0
  - org.ystia.yorc.samples.job.slurm.singularity.components:1.0.0-SNAPSHOT
  - yorc-types:1.0.0

topology_template:
  node_templates:
    BashLoopComponent:
      type: org.ystia.yorc.samples.job.slurm.singularity.nodes.BashLoopComponent
      properties:
        command: "/bin/bash"
        args:
          - "-c"
          - "for d in $(seq 1 15); do echo $d; sleep $d; done; echo 'Computation done!';"
        working_directory: work
        job_properties:
          tasks: 1
          nodes: 1